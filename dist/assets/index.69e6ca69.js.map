{"version":3,"file":"index.69e6ca69.js","sources":["../../vite/modulepreload-polyfill","../../src/App.vue?vue&type=template&lang.js","../../src/App.vue","../../vite/preload-helper","../../src/Layout/components/AsideItem.vue?vue&type=template&lang.js","../../src/Layout/components/AsideItem.vue","../../src/Layout/components/Aside.vue?vue&type=template&lang.js","../../src/Layout/components/Aside.vue","../../src/components/Message/components/SysMsg.vue?vue&type=template&lang.js","../../src/components/Message/components/SysMsg.vue","../../src/components/Message/components/UserMsg.vue?vue&type=template&lang.js","../../src/components/Message/components/UserMsg.vue","../../src/components/Message/components/NoticeMsg.vue?vue&type=template&lang.js","../../src/components/Message/components/NoticeMsg.vue","../../src/components/Message/components/RoomMsg.vue?vue&type=template&lang.js","../../src/components/Message/components/RoomMsg.vue","../../src/components/Message/Message.vue?vue&type=template&lang.js","../../src/components/Message/Message.vue","../../src/components/HeadTag/HeadTag.vue?vue&type=template&lang.js","../../src/components/HeadTag/HeadTag.vue","../../src/Layout/components/Header.vue?vue&type=template&lang.js","../../src/Layout/components/Header.vue","../../src/Layout/components/Footer.vue?vue&type=template&lang.js","../../src/Layout/components/Footer.vue","../../src/Layout/Layout.vue?vue&type=template&lang.js","../../src/Layout/Layout.vue","../../src/router/index.js","../../src/store/modules/aside.js","../../src/store/modules/user.js","../../src/store/modules/app.js","../../src/store/modules/socket.js","../../src/store/modules/alive.js","../../src/store/index.js","../../src/permission.js","../../src/plugins/socket.js","../../src/minix/index.js","../../src/components/MsgTip/msgDetail.vue?vue&type=template&lang.js","../../src/components/MsgTip/msgDetail.vue","../../src/utils/msgTip.js","../../src/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","\n<div id=\"app\">\n\t\t<!-- \n\t\t\t如果使用Layout组件则使用Layout中的router-view\n\t\t\t否则使用该页面的router-view\n\t\t-->\n\t<router-view />\n</div>\n","<template>\r\n\t<div id=\"app\">\r\n\t\t\t<!-- \r\n\t\t\t\t如果使用Layout组件则使用Layout中的router-view\r\n\t\t\t\t否则使用该页面的router-view\r\n\t\t\t-->\r\n\t\t<router-view />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'App'\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n// 这里不能添加scoped，否则全局样式会出不去\r\n</style>\r\n","const scriptRel = 'modulepreload';const seen = {};const base = '/page/back/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","\n<div >\n\t<div class=\"aside-item\" v-for=\"item in routesMenu\" :key='item.name'>\n\t\t<el-menu-item v-if=\"typeof item.children == 'undefined'\" :index=\"getPath(item)\" @click=\"chooseMenu(item)\">\n\t\t\t<i :class=\"item.icon || 'el-icon-menu'\"></i>\n\t\t\t<span slot=\"title\">{{item.name}}</span>\n\t\t</el-menu-item>\n\t\t<el-menu-item v-else-if=\"item.children.length == 1\" :index=\"getPath(item)\" @click=\"chooseMenu(item.children[0])\">\n\t\t\t<i :class=\"item.children[0].icon || 'el-icon-menu'\"></i>\n\t\t\t<span slot=\"title\">{{item.children[0].name}}</span>\n\t\t</el-menu-item>\n\t\t<el-submenu v-else :index=\"item.name\"  @click=\"chooseMenu(item)\">\n\t\t\t<template slot=\"title\">\n\t\t\t\t<i :class=\"item.icon || 'el-icon-menu'\"></i>\n\t\t\t\t<span slot=\"title\">{{item.name}}</span>\n\t\t\t</template>\n\t\t\t<aside-item :itemMenu=\"item.children\"/>\n\t\t</el-submenu>\n\t</div>\n</div>\n","<template>\r\n\t<div >\r\n\t\t<div class=\"aside-item\" v-for=\"item in routesMenu\" :key='item.name'>\r\n\t\t\t<el-menu-item v-if=\"typeof item.children == 'undefined'\" :index=\"getPath(item)\" @click=\"chooseMenu(item)\">\r\n\t\t\t\t<i :class=\"item.icon || 'el-icon-menu'\"></i>\r\n\t\t\t\t<span slot=\"title\">{{item.name}}</span>\r\n\t\t\t</el-menu-item>\r\n\t\t\t<el-menu-item v-else-if=\"item.children.length == 1\" :index=\"getPath(item)\" @click=\"chooseMenu(item.children[0])\">\r\n\t\t\t\t<i :class=\"item.children[0].icon || 'el-icon-menu'\"></i>\r\n\t\t\t\t<span slot=\"title\">{{item.children[0].name}}</span>\r\n\t\t\t</el-menu-item>\r\n\t\t\t<el-submenu v-else :index=\"item.name\"  @click=\"chooseMenu(item)\">\r\n\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t<i :class=\"item.icon || 'el-icon-menu'\"></i>\r\n\t\t\t\t\t<span slot=\"title\">{{item.name}}</span>\r\n\t\t\t\t</template>\r\n\t\t\t\t<aside-item :itemMenu=\"item.children\"/>\r\n\t\t\t</el-submenu>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\t// 递归调用AsideItem组件完成菜单的创建,组件递归调用自己时仅需要name\r\n\tname: 'AsideItem',\r\n\tprops:{\r\n\t\titemMenu: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t}\r\n\t},\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\t// 要在侧边栏渲染出的菜单\r\n\t\t\troutesMenu: [],\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\tthis.init();\r\n\t},\r\n\tmethods:{\r\n\t\tinit(){\r\n\t\t\tif(this.itemMenu.length == 0){\r\n\t\t\t\t// 初始时，根据vuex中存储的菜单信息生成目录\r\n\t\t\t\tthis.routesMenu = this.$store.state.aside.menu;\r\n\t\t\t\t// 根据权限信息筛选去除\r\n\t\t\t\tthis.routesMenu = this.routesMenu.filter(e => {\r\n\t\t\t\t\tif(this.$store.state.user.userInfo.power?.includes(e.name) || e.name == 'dashboard'){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\t// 递归调用时，使用递归的props进行生成\r\n\t\t\t\tthis.routesMenu = this.itemMenu;\r\n\t\t\t\t// 根据权限信息筛选去除\r\n\t\t\t\tthis.routesMenu = this.routesMenu.filter(e => {\r\n\t\t\t\t\tif(this.$store.state.user.userInfo.power?.includes(e.name)){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetPath(item) {\r\n\t\t\tlet path = item.path\r\n\t\t\tif (item.meta) {\r\n\t\t\t\t// 如果有菜单默认路径，按照默认路径跳转\r\n\t\t\t\tpath = item.meta.defaultPath\r\n\t\t\t}\r\n\t\t\treturn path\r\n\t\t},\r\n\t\t// 选择菜单子项时的点击事件\r\n\t\tchooseMenu(item){\r\n\t\t\tlet path = this.getPath(item)\r\n\t\t\tthis.$store.commit('aside/setActiveMenu',path);\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/**\r\n*\t这里将element菜单组件单独提出使用会导致收起时样式不正常,\r\n*\t这里自定义收起样式解决该问题\r\n*/\r\n.el-menu.el-menu--collapse .el-submenu__title span{\r\n\tdisplay: none;\r\n}\r\n</style>","\n<div class=\"aside\">\n\t<el-aside class=\"main\" width=\"100%\">\n\t\t<el-menu :default-active=\"defaultActive()\" class=\"menu\" @open=\"handleOpen\" :collapse=\"collapse()\" :router=\"true\">\n\t\t\t<aside-item />\n\t\t</el-menu>\n\t</el-aside>\n</div>\n","<template>\r\n\t<div class=\"aside\">\r\n\t\t<el-aside class=\"main\" width=\"100%\">\r\n\t\t\t<el-menu :default-active=\"defaultActive()\" class=\"menu\" @open=\"handleOpen\" :collapse=\"collapse()\" :router=\"true\">\r\n\t\t\t\t<aside-item />\r\n\t\t\t</el-menu>\r\n\t\t</el-aside>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport AsideItem from './AsideItem.vue';\r\n\r\nexport default {\r\n\tname: 'Aside',\r\n\tcomponents: { AsideItem },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t};\r\n\t},\r\n\tmounted(){\r\n\t},\r\n\tmethods: {\r\n\t\t// 打开菜单回调\r\n\t\thandleOpen(key, keyPath) {\r\n\t\t\tconsole.log(key, keyPath);\r\n\t\t},\r\n\t\t// 关闭菜单回调\r\n\t\thandleClose(key, keyPath) {\r\n\t\t\tconsole.log(key, keyPath);\r\n\t\t},\r\n\r\n\t\t/* store中的状态 */\r\n\t\t// 默认选中的菜单\r\n\t\tdefaultActive(){\r\n\t\t\treturn this.$store.state.aside.activeMenu;\r\n\t\t},\r\n\t\t// 侧边栏是否展开\r\n\t\tcollapse(){\r\n\t\t\treturn this.$store.state.aside.asideClose;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n// 自定义侧边栏样式\r\n/deep/ .menu{\r\n\theight: 100vh;\r\n\tbackground: darken(@bg-bar,10%);\r\n\tcolor: @c-white;\r\n\tfont-size: @fz-big;\r\n\t/deep/ & i{\r\n\t\tcolor: lighten(@c-black,5%);\r\n\t}\r\n\t/deep/ & span{\r\n\t\tcolor: darken(@c-black,10%);\r\n\t}\r\n\t/deep/ & .el-menu-item.is-active{\r\n\t\tcolor: @c-black;\r\n\t\tspan,i {\r\n\t\t\tfont-weight: 1000;\r\n\t\t}\r\n\t}\r\n\t// 消除侧边栏聚焦颜色\r\n\t/deep/ & .el-menu-item:focus {\r\n\t\tbackground: rgba(0, 0, 0, 0);\r\n\t}\r\n}\r\n// 自定义展开时宽度\r\n/deep/ .el-menu:not(.el-menu--collapse){\r\n\twidth: 200px;\r\n}\r\n</style>","\n<div class=\"sys-msg\">\n\t<div ref=\"xterm\" id=\"xterm\"/>\n</div>\n","<template>\r\n\t<div class=\"sys-msg\">\r\n\t\t<div ref=\"xterm\" id=\"xterm\"/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport 'xterm/css/xterm.css'\r\nimport { Terminal } from 'xterm';\r\nimport { FitAddon } from \"xterm-addon-fit\";\r\n\r\nexport default {\r\n\tname: 'SysMsg',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tterm: null,\r\n\t\t\tfitAddon: null,\r\n\t\t\tsshState: false,\r\n\t\t\thistoryCmd: [], // 历史命令\r\n\t\t\thistoryIndex: 0, // 历史命令索引\r\n\t\t\ttemCmdStr: [], // 正在输入中的命令\r\n\t\t\ttemCmdIndex: 0, // 正在输入中的命令索引\r\n\t\t\tsymbol: '$ > ', // 换行时开始的符号\r\n\t\t\tins: 0\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tpipAfter() {\r\n\t\t\treturn this.temCmdStr.slice(this.temCmdIndex)\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.initTerm()\r\n\t\t// this.$socket.term.emit('init');\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tthis.socket.term.close()\r\n\t\tthis.term && this.term.dispose()\r\n\t},\r\n\tmethods: {\r\n\t\tinitTerm() {\r\n\t\t\t// 设置了cols或者fitAddon.fit(); 当一行字符超过80个过会替换现在的内容，否则换行\r\n\t\t\tconst term = new Terminal({\r\n\t\t\t\tcursorBlink: true, // 关标闪烁\r\n\t\t\t\tcursorStyle: 'bar', // 光标样式 'block' | 'underline' | 'bar'\r\n\t\t\t\tscrollback: 100, // 当行的滚动超过初始值时保留的行视窗，越大回滚能看的内容越多，\r\n\t\t\t});\r\n\t\t\tthis.term = term;\r\n\t\t\tconst fitAddon = new FitAddon();\r\n\t\t\tthis.term.loadAddon(fitAddon);\r\n\t\t\tthis.fitAddon = fitAddon;\r\n\t\t\tterm.open(this.$refs.xterm);\r\n\t\t\t// 自适应大小(使终端的尺寸和几何尺寸适合于终端容器的尺寸)，初始化的时候宽高都是对的\r\n\t\t\tterm.focus();\r\n\t\t\tthis.term.onData(data =>  {\r\n\t\t\t\tthis.sshState ? this.$socket.term.emit('res', data) : this.keyInput(data)\r\n\t\t\t});\r\n\t\t\t/* 不知道键名时可以开启该方法 */\r\n\t\t\t// this.term.onKey(data =>  {\r\n\t\t\t// \tconsole.log('key', data)\r\n\t\t\t// });\r\n\t\t\t// ! fitAddon首次自适应时效果不好，暂时屏蔽自适应\r\n\t\t\t// setTimeout(() => this.fitAddon.fit(), 500)\r\n\t\t\t// window.addEventListener('resize', this.resizeTerm);\r\n\t\t\tthis.initGreet()\r\n\t\t},\r\n\t\tinitGreet() {\r\n\t\t\tthis.term.write('*** （^0^） ***');\r\n\t\t\tthis.keyEnter()\r\n\t\t},\r\n\t\tkeyInput(key) {\r\n\t\t\t// console.log('input', key)\r\n\t\t\tif (key.includes(';')) {\r\n\t\t\t\tconsole.log('暂时不支持组合键')\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\t// if (!key.includes(\"'\\'\") && key.length > 1) {\r\n\t\t\t// \tconsole.log('粘贴', key)\r\n\t\t\t// \tkey.split('').forEach(e => {\r\n\t\t\t// \t\tthis.temCmdStr.splice(this.temCmdIndex, this.ins, e)\r\n\t\t\t// \t});\r\n\t\t\t// \tthis.temCmdIndex += key.length\r\n\t\t\t// \tthis.term.write(key);\r\n\t\t\t// \treturn false\r\n\t\t\t// }\r\n\t\t\tif (key === '\\r') {\r\n\t\t\t\tthis.keyEnter()\r\n\t\t\t} else if (key === '\\x7F') {\r\n\t\t\t\tthis.keyBackspace()\r\n\t\t\t} else if (key === '\\u001b[A') {\r\n\t\t\t\tthis.keyUp()\r\n\t\t\t} else if (key === '\\u001b[B') {\r\n\t\t\t\tthis.keyDown()\r\n\t\t\t} else if (key === '\\u001b[C') {\r\n\t\t\t\tthis.keyRight()\r\n\t\t\t} else if (key === '\\u001b[D') {\r\n\t\t\t\tthis.keyLeft()\r\n\t\t\t} else {\r\n\t\t\t\tlet temArr = [], bArr = []\r\n\t\t\t\tthis.pipAfter.forEach(e => {\r\n\t\t\t\t\ttemArr.push(e)\r\n\t\t\t\t\tbArr.push('\\b')\r\n\t\t\t\t});\r\n\t\t\t\tconst temKey = key + temArr.join('') + bArr.join('')\r\n\t\t\t\tthis.term.write(temKey);\r\n\t\t\t\tthis.temCmdStr.splice(this.temCmdIndex, this.ins, key)\r\n\t\t\t\tthis.temCmdIndex++\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 回车\r\n\t\tkeyEnter() {\r\n\t\t\tthis.cmd(this.temCmdStr.join(''))\r\n\t\t\tthis.term.writeln('');\r\n\t\t\tthis.term.write(this.symbol);\r\n\t\t\tthis.historyCmd.push(this.temCmdStr)\r\n\t\t\tthis.historyIndex++\r\n\t\t\tthis.temCmdStr = []\r\n\t\t\tthis.temCmdIndex = 0\r\n\t\t},\r\n\t\t// 删除\r\n\t\tkeyBackspace() {\r\n\t\t\tif (this.temCmdIndex === 0) return false // 判断是否删完\r\n\t\t\tlet temArr = [], bArr = []\r\n\t\t\tthis.pipAfter.forEach(e => {\r\n\t\t\t\ttemArr.push(e)\r\n\t\t\t\tbArr.push('\\b')\r\n\t\t\t});\r\n\t\t\tconst temKey = '\\b' + temArr.join('') + ' \\b' + bArr.join('')\r\n\t\t\tthis.term.write(temKey);\r\n\t\t\tthis.temCmdIndex--\r\n\t\t\tthis.temCmdStr.splice(this.temCmdIndex, this.ins + 1)\r\n\t\t},\r\n\t\tkeyUp() {\r\n\t\t\tthis.historyIndex !== 0 ? this.historyIndex-- : ''\r\n\t\t\tthis.term.write(this.historyCmd[this.historyIndex].join(''));\r\n\t\t},\r\n\t\tkeyDown() {\r\n\t\t\tthis.historyIndex < this.historyCmd.length ? this.historyIndex++ : ''\r\n\t\t\tthis.term.write(this.historyCmd[this.historyIndex].join(''));\r\n\t\t},\r\n\t\tkeyRight() {\r\n\t\t\tif (this.temCmdIndex >= this.temCmdStr.length) return false\r\n\t\t\tthis.temCmdIndex++\r\n\t\t\tthis.term.write('\\u001b[C');\r\n\t\t},\r\n\t\tkeyLeft() {\r\n\t\t\tif (this.temCmdIndex <= 0) return false\r\n\t\t\tthis.temCmdIndex--\r\n\t\t\tthis.term.write('\\u001b[D');\r\n\t\t},\r\n\r\n\t\tgetColsAndRows(element) {\r\n\t\t\t// 暂时不用\r\n\t\t\telement = element || document.getElementById('xterm');\r\n\t\t\treturn {\r\n\t\t\t\trows: parseInt((element.clientHeight - 0) / 18),\r\n\t\t\t\tcols: 10 // parseInt(element.clientWidth / 8)\r\n\t\t\t};\r\n\t\t},\r\n\t\tresizeTerm() {\r\n\t\t\tthis.fitAddon.fit();\r\n\t\t\tthis.term.scrollToBottom();\r\n\t\t},\r\n\r\n\t\tcmd(cmd) {\r\n\t\t\tconsole.log(cmd)\r\n\t\t}\r\n\t},\r\n\tsockets: {\r\n\t\tterm: {\r\n\t\t\tres(event) {\r\n\t\t\t\tthis.term.write(event.toString());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.sys-msg{\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\t#xterm {\r\n\t\tmargin: 5px;\r\n\t}\r\n}\r\n</style>","\n<div class=\"user-msg\">\n\t<div class=\"msg-list\">\n\t\t<div v-for=\"(item, index) in userList\" :key=\"index\" class=\"list-item\" :class=\"chooseIndex === index ? 'item-choose' : '' \" @click=\"chooseItem(item, index)\">\n\t\t\t<div class=\"item-img\">{{item.img}}</div>\n\t\t\t<div class=\"item-content\">\n\t\t\t\t<div class=\"title\">\n\t\t\t\t\t<div class=\"title-name\">{{item.name}}</div>\n\t\t\t\t\t<div class=\"title-time\">{{item.time}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<div class=\"info-content\">{{item.content}}</div>\n\t\t\t\t\t<div class=\"info-num\">{{item.num}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"msg-main\">\n\t\t<div class=\"main-content\"></div>\n\t\t<div class=\"main-input\"></div>\n\t</div>\n</div>\n","<template>\r\n\t<div class=\"user-msg\">\r\n\t\t<div class=\"msg-list\">\r\n\t\t\t<div v-for=\"(item, index) in userList\" :key=\"index\" class=\"list-item\" :class=\"chooseIndex === index ? 'item-choose' : '' \" @click=\"chooseItem(item, index)\">\r\n\t\t\t\t<div class=\"item-img\">{{item.img}}</div>\r\n\t\t\t\t<div class=\"item-content\">\r\n\t\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t\t<div class=\"title-name\">{{item.name}}</div>\r\n\t\t\t\t\t\t<div class=\"title-time\">{{item.time}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"info\">\r\n\t\t\t\t\t\t<div class=\"info-content\">{{item.content}}</div>\r\n\t\t\t\t\t\t<div class=\"info-num\">{{item.num}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"msg-main\">\r\n\t\t\t<div class=\"main-content\"></div>\r\n\t\t\t<div class=\"main-input\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserList: [\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 },\r\n\t\t\t\t{ img: 'url', name: 'test', time:'2021-10-23', content: 'test', num: 5, userId: 10000 }\r\n\t\t\t],\r\n\t\t\tchooseIndex: ''\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tchooseItem(item, index){\r\n\t\t\tthis.chooseIndex = index\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.user-msg{\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n\t.msg-list{\r\n\t\toverflow-x: hidden;\r\n\t\toverflow-y: auto;\r\n\t\tflex: 1;\r\n\t\t.list-item{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 10px;\r\n\t\t\tposition: relative;\r\n\t\t\t&:hover{\r\n\t\t\t\tbackground: #9b95c933;\r\n\t\t\t}\r\n\t\t\t.item-img{\r\n\t\t\t\theight: 30px;\r\n\t\t\t\twidth: 30px;\r\n\t\t\t\tborder-radius: 30px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 30px;\r\n\t\t\t\tbackground: rgba(0, 0, 0, 0.3);\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t}\r\n\t\t\t.item-content{\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t.title{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\t\t\t\t.info{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.item-choose{\r\n\t\t\tbackground: #9b95c988;\r\n\t\t\t&:hover{\r\n\t\t\t\tbackground: #9b95c988;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.msg-main{\r\n\t\toverflow: auto;\r\n\t\tflex: 4;\r\n\t\t.main-content{\r\n\t\t\theight: 70%;\r\n\t\t}\r\n\t\t.main-input{\r\n\t\t\theight: 30%;\r\n\t\t}\r\n\t}\r\n}\r\n</style>","\n\n","<template>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","\n\n","<template>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","\n<el-dialog\n\ttitle=\"消息控制台\"\n\twidth=\"80%\"\n\ttop=\"5vh\"\n\t:close-on-click-modal=\"false\"\n\tv-on=\"$listeners\"\n\tv-bind=\"$attrs\"\n>\n\t<div class=\"message-content\">\n\t\t<el-tabs :stretch=\"true\">\n\t\t\t<el-tab-pane>\n\t\t\t\t<span slot=\"label\"><i class=\"el-icon-cpu\"></i>系统</span>\n\t\t\t\t<SysMsg />\n\t\t\t</el-tab-pane>\n\t\t\t<el-tab-pane>\n\t\t\t\t<span slot=\"label\"><i class=\"el-icon-user\"></i>用户</span>\n\t\t\t\t<UserMsg />\n\t\t\t</el-tab-pane>\n\t\t\t<el-tab-pane>\n\t\t\t\t<span slot=\"label\"><i class=\"el-icon-bell\"></i>通知</span>\n\t\t\t\t<NoticeMsg />\n\t\t\t</el-tab-pane>\n\t\t\t<el-tab-pane>\n\t\t\t\t<span slot=\"label\"><i class=\"el-icon-connection\"></i>聊天室</span>\n\t\t\t\t<RoomMsg />\n\t\t\t</el-tab-pane>\n\t\t</el-tabs>\n\t</div>\n</el-dialog>\n \n","<template>\r\n\t<el-dialog\r\n\t\ttitle=\"消息控制台\"\r\n\t\twidth=\"80%\"\r\n\t\ttop=\"5vh\"\r\n\t\t:close-on-click-modal=\"false\"\r\n\t\tv-on=\"$listeners\"\r\n\t\tv-bind=\"$attrs\"\r\n\t>\r\n\t\t<div class=\"message-content\">\r\n\t\t\t<el-tabs :stretch=\"true\">\r\n\t\t\t\t<el-tab-pane>\r\n\t\t\t\t\t<span slot=\"label\"><i class=\"el-icon-cpu\"></i>系统</span>\r\n\t\t\t\t\t<SysMsg />\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane>\r\n\t\t\t\t\t<span slot=\"label\"><i class=\"el-icon-user\"></i>用户</span>\r\n\t\t\t\t\t<UserMsg />\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane>\r\n\t\t\t\t\t<span slot=\"label\"><i class=\"el-icon-bell\"></i>通知</span>\r\n\t\t\t\t\t<NoticeMsg />\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane>\r\n\t\t\t\t\t<span slot=\"label\"><i class=\"el-icon-connection\"></i>聊天室</span>\r\n\t\t\t\t\t<RoomMsg />\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t</el-tabs>\r\n\t\t</div>\r\n\t</el-dialog>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport SysMsg from './components/SysMsg.vue'\r\nimport UserMsg from './components/UserMsg.vue'\r\nimport NoticeMsg from './components/NoticeMsg.vue'\r\nimport RoomMsg from './components/RoomMsg.vue'\r\nexport default {\r\n\tcomponents: { SysMsg, UserMsg, NoticeMsg, RoomMsg },\r\n\tdata() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\r\n\t},\r\n\tmethods: {\r\n\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.message-content{\r\n\theight: 80vh;\r\n    position: relative;\r\n}\r\n::v-deep .el-dialog__body{\r\n\tpadding: 0px 10px;\r\n}\r\n::v-deep .el-tab-pane{\r\n\tposition: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n::v-deep .el-tabs__content {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 40px;\r\n    bottom: 0;\r\n}\r\n</style>","\n<div>\n    <el-tag\n        :key=\"tag\"\n        v-for=\"tag in dynamicTags\"\n        closable\n        :disable-transitions=\"false\"\n        @close=\"handleClose(tag)\">\n        {{tag}}\n        </el-tag>\n        <el-input\n        class=\"input-new-tag\"\n        v-if=\"inputVisible\"\n        v-model=\"inputValue\"\n        ref=\"saveTagInput\"\n        size=\"small\"\n        @keyup.enter.native=\"handleInputConfirm\"\n        @blur=\"handleInputConfirm\"\n    >\n    </el-input>\n    <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ 新页签</el-button>\n</div>\n","<template>\r\n    <div>\r\n        <el-tag\r\n            :key=\"tag\"\r\n            v-for=\"tag in dynamicTags\"\r\n            closable\r\n            :disable-transitions=\"false\"\r\n            @close=\"handleClose(tag)\">\r\n            {{tag}}\r\n            </el-tag>\r\n            <el-input\r\n            class=\"input-new-tag\"\r\n            v-if=\"inputVisible\"\r\n            v-model=\"inputValue\"\r\n            ref=\"saveTagInput\"\r\n            size=\"small\"\r\n            @keyup.enter.native=\"handleInputConfirm\"\r\n            @blur=\"handleInputConfirm\"\r\n        >\r\n        </el-input>\r\n        <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ 新页签</el-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'HeadTag',\r\n    data() {\r\n        return {\r\n            dynamicTags: ['标签一', '标签二', '标签三'],\r\n            inputVisible: false,\r\n            inputValue: ''\r\n        };\r\n    },\r\n    methods: {\r\n        handleClose(tag) {\r\n            this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\r\n        },\r\n\r\n        showInput() {\r\n            this.inputVisible = true;\r\n            this.$nextTick(_ => {\r\n            this.$refs.saveTagInput.$refs.input.focus();\r\n            });\r\n        },\r\n\r\n        handleInputConfirm() {\r\n            let inputValue = this.inputValue;\r\n            if (inputValue) {\r\n            this.dynamicTags.push(inputValue);\r\n            }\r\n            this.inputVisible = false;\r\n            this.inputValue = '';\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-tag + .el-tag {\r\n    margin-left: 10px;\r\n}\r\n.button-new-tag {\r\n    margin-left: 10px;\r\n    height: 32px;\r\n    line-height: 30px;\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n}\r\n.input-new-tag {\r\n    width: 90px;\r\n    margin-left: 10px;\r\n    vertical-align: bottom;\r\n}\r\n</style>","\n    <div class=\"header\">\n        <el-header class=\"main\">\n\t\t\t<i :class=\"collapse()?'el-icon-s-unfold':'el-icon-s-fold'\" @click=\"setOpen\"></i>\n\t\t\t<el-breadcrumb class=\"breadcrumb\" separator=\"/\">\n\t\t\t\t<el-breadcrumb-item to=\"/\">首页</el-breadcrumb-item>\n\t\t\t\t<el-breadcrumb-item v-for=\"item in matched\" :key=\"item.path\" :to=\"item.path\">{{item.name}}</el-breadcrumb-item>\n\t\t\t</el-breadcrumb>\n\n\t\t\t<div class=\"main-container\">\n\t\t\t\t<div class=\"tag-container\">\n\t\t\t\t\t<HeadTag></HeadTag>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"main-left\">\n\t\t\t\t\t<el-badge :hidden=\"!msgNum || msgVisible\" :value=\"msgNum\" :max=\"99\" class=\"left-msg\">\n\t\t\t\t\t\t<i :class=\"msgNum ? 'el-icon-chat-line-round' : 'el-icon-chat-round'\" class=\"msg-icon\" @click=\"msgOpen\"></i>\n\t\t\t\t\t</el-badge>\n\t\t\t\t\t<el-dropdown @command=\"headMenu\" class=\"left-dropdown\">\n\t\t\t\t\t\t<span class=\"dropdown-head\">\n\t\t\t\t\t\t\t<el-avatar shape=\"square\" :size=\"36\"> user </el-avatar>\n\t\t\t\t\t\t\t<i class=\"el-icon-arrow-down el-icon--right\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\n\t\t\t\t\t\t\t<el-dropdown-item v-for=\"( item , index ) in option\" :key=\"index\" :command=\"item.value\">{{item.lable}}</el-dropdown-item>\n\t\t\t\t\t\t</el-dropdown-menu>\n\t\t\t\t\t</el-dropdown>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</el-header>\n\n\t\t<Message class=\"messge-dialog\" :visible.sync=\"msgVisible\"></Message>\n    </div>\n","<template>\r\n    <div class=\"header\">\r\n        <el-header class=\"main\">\r\n\t\t\t<i :class=\"collapse()?'el-icon-s-unfold':'el-icon-s-fold'\" @click=\"setOpen\"></i>\r\n\t\t\t<el-breadcrumb class=\"breadcrumb\" separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item to=\"/\">首页</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item v-for=\"item in matched\" :key=\"item.path\" :to=\"item.path\">{{item.name}}</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\r\n\t\t\t<div class=\"main-container\">\r\n\t\t\t\t<div class=\"tag-container\">\r\n\t\t\t\t\t<HeadTag></HeadTag>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"main-left\">\r\n\t\t\t\t\t<el-badge :hidden=\"!msgNum || msgVisible\" :value=\"msgNum\" :max=\"99\" class=\"left-msg\">\r\n\t\t\t\t\t\t<i :class=\"msgNum ? 'el-icon-chat-line-round' : 'el-icon-chat-round'\" class=\"msg-icon\" @click=\"msgOpen\"></i>\r\n\t\t\t\t\t</el-badge>\r\n\t\t\t\t\t<el-dropdown @command=\"headMenu\" class=\"left-dropdown\">\r\n\t\t\t\t\t\t<span class=\"dropdown-head\">\r\n\t\t\t\t\t\t\t<el-avatar shape=\"square\" :size=\"36\"> user </el-avatar>\r\n\t\t\t\t\t\t\t<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t\t<el-dropdown-item v-for=\"( item , index ) in option\" :key=\"index\" :command=\"item.value\">{{item.lable}}</el-dropdown-item>\r\n\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</el-header>\r\n\r\n\t\t<Message class=\"messge-dialog\" :visible.sync=\"msgVisible\"></Message>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Message from '@/components/Message/Message.vue'\r\nimport HeadTag from '@/components/HeadTag/HeadTag.vue'\r\nexport default {\r\n\tname: 'Header',\r\n\tcomponents: { Message, HeadTag },\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\t// 路由原型，存储路由父子级及重定向信息\r\n\t\t\tmatched: [],\r\n\t\t\t// \r\n\t\t\toption: [\r\n\t\t\t\t{ value: -1 , lable: '登出'},\r\n\t\t\t\t{ value: 1 , lable: '个人中心'},\r\n\t\t\t],\r\n\t\t\tmsgNum: 0, // 消息条数\r\n\t\t\tmsgVisible: false, // 消息组件是否开启\r\n\t\t\tmsgArr: [], // 消息栈 \r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\tthis.init();\r\n\t},\r\n\twatch: {\r\n\t\t// 监听路由\r\n\t\t$route(){\r\n\t\t\tthis.routeChange()\r\n\t\t}\r\n\t},\r\n\tsockets: {\r\n\t\t// 客户端接收后台传输的socket事件\r\n\t\tmsg: {\r\n\t\t\tres(data) {\r\n\t\t\t\tif (this.debug.socket) console.log('res',data.dataInfo)\r\n\t\t\t},\r\n\t\t\t'233'(data) {\r\n\t\t\t\tif (this.debug.socket) console.log('233',data)\r\n\t\t\t\tthis.$msgTip('success', data)\r\n\t\t\t},\r\n\t\t\t'250'(data) {\r\n\t\t\t\tif (this.debug.socket) console.log('250',data)\r\n\t\t\t\tthis.$msgTip('error', data, 0)\r\n\t\t\t},\r\n\t\t\treconnect() {\r\n\t\t\t\tif (this.debug.socket) console.log('reconnect 重新连接')\r\n\t\t\t\tthis.sokcet('msg','init')  // 重新连接时重新发送init\r\n\t\t\t},\r\n\t\t\tdisconnect() {\r\n\t\t\t\tif (this.debug.socket) console.log('断开连接')\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tinit(){\r\n\t\t\tthis.sokcet('msg','init')\r\n\t\t\tthis.routeChange()\r\n\t\t},\r\n\t\t// 路由改变面包屑内容也应该相应改变\r\n\t\trouteChange(){\r\n\t\t\t// 剔除首页\r\n\t\t\tthis.matched = this.$route.matched.filter(e => {\r\n\t\t\t\treturn e.name != 'dashboard'\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetOpen(){\r\n\t\t\t// 使vuex中侧边栏状态取反\r\n\t\t\tthis.$store.commit('aside/setOpen',!this.$store.state.aside.asideClose);\r\n\t\t},\r\n\r\n\t\t/* 获取store中状态 */\r\n\t\t// 侧边栏是否展开\r\n\t\tcollapse(){\r\n\t\t\treturn this.$store.state.aside.asideClose;\r\n\t\t},\r\n\r\n\t\t// 消息组件开启\r\n\t\tmsgOpen() {\r\n\t\t\tthis.msgVisible = true\r\n\t\t},\r\n\t\t\r\n\t\t// 头像菜单选项\r\n\t\theadMenu(command){\r\n\t\t\tswitch (command) {\r\n\t\t\t\t// 登出操作\r\n\t\t\t\tcase -1:\r\n\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\tthis.$router.replace('/login');\r\n\t\t\t\t\tthis.$message.success('退出成功');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// 个人中心\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.$message.success('个人中心')\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.warn('[header] 意外的命令');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// header整体布局\r\n.header{\r\n\tborder-bottom: solid 1px #e6e6e6;\r\n}\r\n.main{\r\n\tdisplay: flex;\r\n\tjustify-content: flex-start;\r\n\talign-items: center;\r\n\theight: 60px;\r\n\tposition: relative;\r\n\r\n\r\n\t// 面包屑位置\r\n\t.breadcrumb{\r\n\t\tmargin-left: 10px;\r\n\r\n\t}\r\n\r\n\t.main-container{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding-left: 20px;\r\n\t\tflex: 1;\r\n\t\t.tag-container{\r\n\r\n\t\t}\r\n\r\n\t\t.main-left{\r\n\t\t\t// position: absolute;\r\n\t\t\t// right: 20px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t.left-msg{\r\n\t\t\t\tmargin: 0 10px;\r\n\t\t\t\t.msg-icon{\r\n\t\t\t\t\tfont-size: 20px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.dropdown-head{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t\tborder-radius: 6px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n.messge-dialog{\r\n\tmin-width: 1050px;\r\n}\r\n</style>","\n<div class=\"footer-main\">\n  <div class=\"main-copyright row\">Copyright © 2019-{{(new Date).getFullYear()}} 孙启萌 版权所有</div>\n  <div class=\"main-record row\" @click=\"go\">鄂ICP备19018246号-1</div>\n</div>\n","<template>\r\n    <div class=\"footer-main\">\r\n      <div class=\"main-copyright row\">Copyright © 2019-{{(new Date).getFullYear()}} 孙启萌 版权所有</div>\r\n      <div class=\"main-record row\" @click=\"go\">鄂ICP备19018246号-1</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n  name: 'Footer',\r\n  mounted() {},\r\n  methods: {\r\n    go() {\r\n      window.open('https://beian.miit.gov.cn');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.footer-main{\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  &::before{\r\n\t  position: absolute;\r\n\t  top: 0;\r\n\t  content: '';\r\n\t  display: block;\r\n\t  border: 1px;\r\n\t  width: 100%;\r\n    background: #3333;\r\n\t  height: 1px;\r\n  }\r\n  .main-copyright{\r\n    cursor: default;\r\n  }\r\n  .main-record{\r\n    cursor: pointer;\r\n  }\r\n}\r\n.row{\r\n  color: #333;\r\n  margin: 3px 20px;\r\n}\r\n</style>","\n<div class=\"Layout\">\n\t<el-container>\n\t\t\t<l-aside />\n\t\t<el-container class=\"container\" direction=\"vertical\">\n\t\t\t<l-header />\n\t\t\t<el-main>\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t\t<keep-alive :include=\"keepName\">\n\t\t\t\t\t\t<router-view class=\"view\"></router-view>\n\t\t\t\t\t</keep-alive>\n\t\t\t\t</transition>\n\t\t\t\t<l-footer />\n\t\t\t</el-main>\n\t\t</el-container>\n\t</el-container>\n</div>\n","<template>\r\n\t<div class=\"Layout\">\r\n\t\t<el-container>\r\n\t\t\t\t<l-aside />\r\n\t\t\t<el-container class=\"container\" direction=\"vertical\">\r\n\t\t\t\t<l-header />\r\n\t\t\t\t<el-main>\r\n\t\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t\t\t\t\t<keep-alive :include=\"keepName\">\r\n\t\t\t\t\t\t\t<router-view class=\"view\"></router-view>\r\n\t\t\t\t\t\t</keep-alive>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t\t<l-footer />\r\n\t\t\t\t</el-main>\r\n\t\t\t</el-container>\r\n\t\t</el-container>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Aside from './components/Aside.vue';\r\nimport Header from './components/Header.vue';\r\nimport Footer from './components/Footer.vue';\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n\tname: 'Layout',\r\n\tcomponents:{\r\n\t\t'l-aside': Aside,\r\n\t\t'l-header': Header,\r\n\t\t'l-footer': Footer\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState('alive', ['keepArr', 'keepName'])\r\n\t},\r\n\tmounted() {\r\n\t\tconsole.log(this.keepArr, this.keepName)\r\n\t},\r\n\twatch: {\r\n\t\t\"$route\":function(to,from){\r\n\t\t\tconst toDepth = to.path.split('/').length;\r\n\t\t\tconst fromDepth = from.path.split('/').length;\r\n\t\t\tthis.transition = toDepth < fromDepth ? 'slide-right' : 'slide-left';\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.Layout{\r\n\tmin-width: 1050px;\r\n}\r\n.container{\r\n\theight: 100vh;\r\n}\r\n.view{\r\n\tmin-height: calc(100vh - 120px);\r\n\tpadding-bottom: 20px;\r\n}\r\n.fade-enter-active, .fade-leave-active {\r\n\ttransition: opacity .2s;\r\n}\r\n.fade-enter, .fade-leave-to  {\r\n\topacity: 0;\r\n}\r\n// 覆盖el-main样式\r\n.el-main{\r\n\tpadding: 10px 10px 0 10px;\r\n\toverflow-x: hidden;\r\n}\r\n</style>","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nimport Layout from '../Layout/Layout.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\n// 解决标题栏路由导航冗余报错问题\r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push(location) {\r\n\treturn originalPush.call(this, location).catch(err => err)\r\n}\r\n\r\n/** 路由说明\r\n * \r\n * 两种路由：\r\n * constantRoutes静态路由，包含不需要layout布局的基本页\r\n * asyncRouter动态路由，使用layout布局\r\n * \r\n * 自定义字段meta：\r\n *  show\t标志是否在aside侧边栏展示，false时不显示，true或省缺时显示\r\n *  defaultPath 实际跳转和在地址栏上显示的字段，以取代path\r\n * \r\n */\r\n\r\n// ! 不要用name字段表示名称，而要在meta中定义这些额外的信息\r\n\r\n// 无需权限的路由\r\nconst constantRoutes = [\r\n\t{\r\n\t\tpath: '/login',\r\n\t\tname: 'login',\r\n\t\tcomponent: () => import('../views/main/login.vue'),\r\n\t\tmeta: {\r\n\t\t\tshow: false\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/404',\r\n\t\tname: '404',\r\n\t\tcomponent: () => import('../views/main/404.vue'),\r\n\t\tmeta: {\r\n\t\t\tshow: false\r\n\t\t}\r\n\t}\r\n]\r\n\r\n// 权限路由，显示在菜单栏中\r\nconst powerShowRouter = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tname: 'toDashboard',\r\n\t\ticon: 'el-icon-s-home',\r\n\t\tcomponent: Layout,\r\n\t\tredirect: '/dashboard',\r\n\t\tchildren: [{\r\n\t\t\tpath: 'dashboard',\r\n\t\t\tname: 'dashboard',\r\n\t\t\ticon: 'el-icon-s-home',\r\n\t\t\tcomponent: () => import('../views/main/dashboard.vue')\r\n\t\t}]\r\n\t},\r\n\t{\r\n\t\tpath: '/application',\r\n\t\tname: 'toAppList',\r\n\t\ticon: 'el-icon-menu',\r\n\t\tcomponent: Layout,\r\n\t\tredirect: '/application/appList',\r\n\t\tchildren: [{\r\n\t\t\tpath: 'appList',\r\n\t\t\tname: 'appList',\r\n\t\t\ticon: 'el-icon-help',\r\n\t\t\tcomponent: () => import('../views/application/index.vue')\r\n\t\t},{\r\n\t\t\tpath: 'apiDoc',\r\n\t\t\tname: 'apiDoc',\r\n\t\t\ticon: 'el-icon-document',\r\n\t\t\tcomponent: () => import('../views/application/apiDoc/index.vue')\r\n\t\t},{\r\n\t\t\tpath: 'networkDisk',\r\n\t\t\tname: 'networkDisk',\r\n\t\t\ticon: 'el-icon-upload',\r\n\t\t\tcomponent: () => import('../views/application/networkDisk/index.vue')\r\n\t\t},{\r\n\t\t\tpath: 'comapp/:page*',\r\n\t\t\tname: 'comapp',\r\n\t\t\ticon: 'el-icon-cherry',\r\n\t\t\tcomponent: () => import('../views/application/comapp/index.vue'),\r\n\t\t\tmeta: {\r\n\t\t\t\tdefaultPath: '/application/comapp'\r\n\t\t\t}\r\n\t\t}]\r\n\t},\r\n\t{\r\n\t\tpath: '/manage',\r\n\t\tname: 'toBlog',\r\n\t\ticon: 'el-icon-setting',\r\n\t\tcomponent: Layout,\r\n\t\tredirect: '/manage/blog',\r\n\t\tchildren: [{\r\n\t\t\tpath: 'blog',\r\n\t\t\tname: 'blog',\r\n\t\t\ticon: 'el-icon-notebook-1',\r\n\t\t\tcomponent: () => import('../views/blog/blog.vue')\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: 'user',\r\n\t\t\tname: 'user',\r\n\t\t\ticon: 'el-icon-user',\r\n\t\t\tcomponent: () => import('../views/user/user.vue')\r\n\t\t}]\r\n\t}\r\n]\r\n\r\n// 权限附属路由，不显示在菜单栏中\r\nconst powerHideRouter = [\r\n\t{\r\n\t\tpath: '/edit',\r\n\t\tname: 'toEdit',\r\n\t\tcomponent: Layout,\r\n\t\tredirect: '/manage/blog',\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: ':id',\r\n\t\t\t\tname: 'edit',\r\n\t\t\t\tcomponent: () => import('../views/blog/edit.vue')\r\n\t\t\t}\r\n\t\t],\r\n\t\tmeta: {\r\n\t\t\tshow: false\r\n\t\t}\r\n\t},\r\n\r\n\t// 404页一定要放在最后\r\n\t{ path: '/*', name: '404', redirect: '/404', meta: { show: false } }\r\n];\r\n\r\n// 鉴权白名单\r\nconst whiteList = [ 'login' , '404' , 'edit' ];\r\n\r\nconst router = new VueRouter({\r\n\tmode: 'history',\r\n\t// base: process.env.BASE_URL,\r\n\troutes: [...constantRoutes,...powerShowRouter,...powerHideRouter],\r\n\twhiteList\r\n})\r\n\r\nexport default router\r\n","import router from '../../router/index';\r\n\r\n// 递归算法对菜单路径进行正确连接\r\nfunction recursiveMenu(value) {\r\n\t \r\n\tfor (let index = 0; index < value.length; index++) {\r\n\t\tif(typeof value[index].children == 'undefined'){\r\n\t\t\t// 没有子集了\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\r\n\t\tfor (let index2 = 0; index2 < value[index].children.length; index2++) {\r\n\t\t\t// 拼接路径\r\n\t\t\tvalue[index].children[index2].path = value[index].path + '/' + value[index].children[index2].path;\r\n\t\t}\r\n\t\t// 递归调用\r\n\t\tvalue[index].children = recursiveMenu(value[index].children);\r\n\t}\r\n\treturn value;\r\n};\r\n\r\n// 遍历剔除不需要显示的路由\r\nlet routes = router.options.routes.filter(e => {\r\n\tif (e.meta && e.meta.show === false) {\r\n\t\treturn false;\r\n\t}\r\n\treturn true\r\n});\r\n\r\n// 递归路径拼接\r\nroutes = recursiveMenu(routes);\r\n\r\nexport default {\r\n\tnamespaced:true,\r\n    state: {\r\n\t\tasideClose: true,\t\t// 控制侧边栏的展开折叠，true折叠，false展开\r\n\t\tactiveMenu: '',\t\t\t// 默认活动的菜单\r\n\t\tmenu: routes\t\t\t// 侧边栏菜单显示所需要的数据\r\n\t},\r\n\tmutations: {\r\n\t\t// 控制侧边栏开启关闭\r\n\t\tsetOpen(state,open){\r\n\t\t\tstate.asideClose = open;\r\n\t\t},\r\n\t\t// 设置默认激活的侧边栏菜单项\r\n\t\tsetActiveMenu(state,activeMenu){\r\n\t\t\tstate.activeMenu = activeMenu;\r\n\t\t},\r\n\t\t// 侧边栏菜单信息设置\r\n\t\tsetMenu(state,menu){\r\n\t\t\tstate.menu = menu;\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t},\r\n};","export default {\r\n\tnamespaced:true,\r\n    state: {\r\n\t\tuserInfo: {},\t\t// 用户信息\r\n\t\tisAdmin: false\t\t// 是否超级管理员\r\n\t},\r\n\tmutations: {\r\n\t\t// 设置用户信息\r\n\t\tsetUserInfo(state,userInfo){\r\n\t\t\tstate.userInfo = userInfo;\r\n\t\t\tif(userInfo.power && userInfo.power.includes('user')){\r\n\t\t\t\t// 这里读取用户权限，如果拥有用户管理这一权限，则视为超级管理员\r\n\t\t\t\tstate.isAdmin = true;\r\n\t\t\t}else{\r\n\t\t\t\t// 置false\r\n\t\t\t\tstate.isAdmin = false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t},\r\n};","// app信息模块，使用命名空间分割\r\nexport default {\r\n\tnamespaced:true,\r\n    state: {\r\n\t\t// 是否是debug模式\r\n\t\tdebug: {\r\n\t\t\tsocket: false\r\n\t\t},\r\n\t},\r\n\tmutations: {\r\n\t\t// 设置用户信息\r\n\t\tsetDebugSocket(state, data){\r\n\t\t\tstate.debug.socket = data;\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t},\r\n};","// vuex中一般接收指令数据\r\nexport default {\r\n\tnamespaced:true,\r\n    state: {\r\n\t},\r\n\tmutations: {\r\n        MSG_RES(e, value) {\r\n\t\t},\r\n\t\tMSG_200(e, value) {\r\n\t\t},\r\n\t\tMSG_233(e, value) {\r\n\t\t},\r\n\t\tMSG_250(e, value) {\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n        MSG_RES(e, value) {\r\n\t\t},\r\n\t\tMSG_CONNECT(e, value) {\r\n\t\t\tconsole.log('MSG_CONNECT', value)\r\n\t\t},\r\n\t\tMSG_200(e, value) {\r\n\t\t},\r\n\t\tMSG_233(e, value) {\r\n\t\t},\r\n\t\tMSG_250(e, value) {\r\n\t\t}\r\n\t},\r\n};","export default {\r\n\tnamespaced:true,\r\n    state: {\r\n\t\tkeepArr: [], // 保存缓存的路由对象\r\n\t\tkeepName: [], // 保存缓存的路由的名称\r\n\t},\r\n\tmutations: {\r\n\t\tsetKeepArr(state, arr) {\r\n\t\t\tstate.keepName = arr.map(e => {\r\n\t\t\t\tconsole.log(e.matched[e.matched.length - 1])\r\n\t\t\t\treturn e.matched[e.matched.length - 1].name\r\n\t\t\t})\r\n\t\t\tstate.keepArr = arr\r\n\t\t\tconsole.log('state.keepName', state.keepName)\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t},\r\n};","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport aside from './modules/aside'\t// 导入侧边栏状态模块\r\nimport user from './modules/user'\t// 导入用户信息模块\r\nimport app from './modules/app'\t// 导入app信息模块\r\nimport socket from './modules/socket'\t// 导入全局socket模块\r\nimport alive from './modules/alive'\t// 导入缓存控制模块\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n\t},\r\n\tmutations: {\r\n\t},\r\n\tactions: {\r\n\t},\r\n\tmodules: {\r\n\t\taside,\r\n\t\tuser,\r\n\t\tapp,\r\n\t\tsocket,\r\n\t\talive\r\n\t}\r\n})\r\n","import { Message } from 'element-ui';\r\nimport router from './router';\r\nimport store from './store';\r\n\r\n// token验证\r\nrouter.beforeEach((to,from,next) => {\r\n\t// 传入活动的菜单栏\r\n\tstore.commit('aside/setActiveMenu',to.path);\r\n\t\r\n\tlet token = localStorage.getItem('token');\r\n\tlet userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n\t// token有无跳转逻辑\r\n\tif(token && userInfo){\r\n\t\t// 有token不能访问login\r\n\t\tif (to.path === '/login'){\r\n\t\t\tnext({ path: '/' });\r\n\t\t\tMessage.warning('已经登录');\r\n\t\t}else{\r\n\t\t\t/** 不需要校验token真伪与是否过期，\r\n\t\t\t* 在发送request请求时如果token出现问题，\r\n\t\t\t* 直接清除浏览器中的token并刷新页面即可\r\n\t\t\t* 登出同理\r\n\t\t\t*/ \r\n\t\t\t// todo 路径跳转时读取localStorage中的用户信息，这里应该监听关闭与初始化该页面进行数据持久化操作\r\n\t\t\tstore.commit('user/setUserInfo',userInfo);\r\n\r\n\t\t\t// 跳转前\r\n\t\t\tlet keepArr = [ ...store.state.alive.keepArr]\r\n\t\t\tif (!keepArr.some(e => e.fullPath === to.fullPath)) {\r\n\t\t\t\tkeepArr = [ ...keepArr, to ]\r\n\t\t\t}\r\n\t\t\tstore.commit('alive/setKeepArr', keepArr)\r\n\r\n\t\t\t// 正常跳转\r\n\t\t\tnext();\r\n\t\t}\r\n\t}else{\r\n\t\t// 如果没有token\r\n\t\tif (to.path !== '/login'){\r\n\t\t\t// 没有token必须重定向到login页\r\n\t\t\tMessage.warning('未登录状态');\r\n\t\t\tnext({ path: '/login' });\r\n\t\t}else{\r\n\t\t\t// 防止login也重复跳转\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\t\r\n})\r\n\r\n// 鉴权\r\nrouter.beforeEach((to,from,next) => {\r\n\tlet power = store.state.user.userInfo.power;\t// 获取该账号拥有的权限\r\n\tlet whiteList = router.options.whiteList;\r\n\t// 白名单中直接访问\r\n\tif(whiteList.includes(to.name)){\r\n\t\tnext();\r\n\t\treturn true;\r\n\t}\r\n\t// 拥有权限可以访问\r\n\tif(power && power.includes(to.name)){\r\n\t\tnext();\r\n\t\treturn true;\r\n\t}\r\n\t// 访问首页直接访问\r\n\tif(to.name == 'dashboard'){\r\n\t\tnext();\r\n\t\treturn true;\r\n\t}\r\n\tnext('/dashboard');\r\n})","// !现不支持自定义连接时机，默认vue安装插件时自动连接\r\nexport default class MadderSocket{\r\n\r\n    constructor({vuex, options}){\r\n        this.vuex = vuex;\r\n        this.options = options;\r\n    }\r\n\r\n    install(Vue) {\r\n        Vue.mixin(this.connect(Vue, this.options)); // 混入逻辑增加 vue 中 $options 调用\r\n        this.emitter = new Emitter(this.vuex, this.options);   // 分配逻辑\r\n        const listener = new Listener(this.io, this.emitter);    // 为vuex增加监听\r\n    }\r\n\r\n    connect(Vue, options) {\r\n        if (!options.length) {\r\n            console.error('配置项错误')\r\n            return false\r\n        }\r\n        let socket = {}\r\n        let IO = this.io = Vue.prototype.$socket = {}\r\n        Vue.prototype.$MadderSocket = this;\r\n        options.forEach(e => {\r\n            console.log(e.ip)\r\n            IO[e.name] = io(e.ip)   //! socket.io从一开始注册的时候其实就连接了\r\n            socket[e.name] = {}\r\n        })\r\n        return {\r\n            // 创建前定义绑定方法\r\n            beforeCreate(){\r\n                if(!this.sockets) this.sockets = socket;\r\n                Object.keys(this.sockets).forEach(e => {\r\n                    this.sockets[e].subscribe = (event, callback) => {\r\n                        this.$MadderSocket.emitter.addListener(event, callback, this);\r\n                    };\r\n                    this.sockets[e].unsubscribe = (event) => {\r\n                        this.$MadderSocket.emitter.removeListener(event, this);\r\n                    };\r\n                });\r\n            },\r\n            // 挂载时绑定对应options\r\n            mounted(){\r\n                Object.keys(this.sockets).forEach(e1 => {\r\n                    if(this.$options.sockets && this.$options.sockets[e1]){\r\n                        Object.keys(this.$options.sockets[e1]).forEach(e2 => {\r\n                            if(e2 !== 'subscribe' && e2 !== 'unsubscribe') {\r\n                                // this.$MadderSocket.emitter.addListener(e2, this.$options.sockets[e1][e2], this)\r\n                                this.$MadderSocket.emitter.addListener(e1, e2, this)\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            // 销毁时解绑对应options\r\n            beforeDestroy(){\r\n                Object.keys(this.sockets).forEach(e1 => {\r\n                    if(this.$options.sockets && this.$options.sockets[e1]){\r\n                        Object.keys(this.$options.sockets[e1]).forEach(e2 => {\r\n                            this.$MadderSocket.emitter.removeListener(e1, e2, this); //! 这里直接销毁了没有断开事件了\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass Emitter {\r\n    constructor(vuex){\r\n        this.store = vuex;\r\n        this.listeners = new Map;\r\n    }\r\n\r\n    // 在listeners中写入监听\r\n    addListener(nps, event, component){\r\n        if(typeof component.$options.sockets[nps][event] === 'function'){\r\n            if (!this.listeners.has(nps)) {\r\n                this.listeners.set(nps, new Map)\r\n            }\r\n            if (!this.listeners.get(nps).has(event)) this.listeners.get(nps).set(event, []); // 没有该事件则设置事件\r\n            this.listeners.get(nps).get(event).push({ callback: component.$options.sockets[nps][event], component });    // 将监听的组件和处理方法压入\r\n        } else {\r\n            throw new Error(`callback must be a function`);\r\n        }\r\n    }\r\n\r\n    // 在listeners中移除监听\r\n    removeListener(nps, event, component){\r\n        if(this.listeners.get(nps).has(event)){\r\n            const listeners = this.listeners.get(nps).get(event).filter(listener => (\r\n                listener.component !== component\r\n            ));\r\n            if (listeners.length > 0) {\r\n                this.listeners.get(nps).set(event, listeners);   // 只是某一组件移除监听则重新计算并设置需要监听的组件数组\r\n            } else {\r\n                this.listeners.get(nps).delete(event);   // 如果没有组件监听这个事件则移除该监听\r\n            }\r\n        }\r\n    }\r\n\r\n    // 发送信息到对应的组件\r\n    emit(event, args, nps){\r\n        if (!this.listeners.get(nps)) {\r\n            return false\r\n        }\r\n        if(this.listeners.get(nps).has(event)){\r\n            this.listeners.get(nps).get(event).forEach((listener) => {\r\n                listener.callback.call(listener.component, args);\r\n            });\r\n        }\r\n        if(event !== 'ping' && event !== 'pong') {\r\n            this.dispatchStore(event, args, nps);\r\n        }\r\n    }\r\n\r\n\r\n    // 发送信息到vuex中\r\n    dispatchStore(event, args, nps){\r\n        if(this.store && this.store._actions){\r\n            let prefixed_event = event\r\n            if(nps) {\r\n                prefixed_event  = (nps + '_' + event).toUpperCase();\r\n            }\r\n            for (let key in this.store._actions) {\r\n                let action = key.split('/').pop();  // 如果在模块中拿到对应模块\r\n                if(action === prefixed_event) {\r\n                    // 名称对应则发送dispatch\r\n                    this.store.dispatch(key, args);\r\n                }\r\n            }\r\n            for (let key in this.store._mutations) {\r\n                let mutation = key.split('/').pop();\r\n                if(mutation === prefixed_event) {\r\n                    this.store.commit(key, args);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass Listener {\r\n\r\n    //! 这些是socket中自带的静态事件，连接、断开等事件的绑定时机可能在组件外导致无法监听\r\n    static staticEvents = [\r\n        'connect',\r\n        'error',\r\n        'disconnect',\r\n        'reconnect',\r\n        'reconnect_attempt',\r\n        'reconnecting',\r\n        'reconnect_error',\r\n        'reconnect_failed',\r\n        'connect_error',\r\n        'connect_timeout',\r\n        'connecting',\r\n        'ping',\r\n        'pong'\r\n    ];\r\n\r\n    constructor(io, emitter){\r\n        this.io = io;\r\n        this.register();\r\n        this.emitter = emitter;\r\n    }\r\n\r\n    // 注册监听\r\n    register(){\r\n        Object.keys(this.io).forEach(name => {\r\n            this.io[name].onevent = (packet) => {\r\n                // 监听所有消息并做对应发送\r\n                let [event, ...args] = packet.data;\r\n                if(args.length === 1) args = args[0];\r\n                this.onEvent(event, args, packet.nsp.split('/').pop())\r\n            };\r\n            Listener.staticEvents.forEach(event => this.io[name].on(event, args => this.onEvent(event, args, name))) // 给默认监听的默认事件添加绑定\r\n        })\r\n    }\r\n\r\n    // 监听所需数据抛给emitter类处理\r\n    onEvent(event, args, name){\r\n        this.emitter.emit(event, args, name);\r\n    }\r\n\r\n}","import { mapState } from 'vuex';\r\n\r\nexport default {\r\n    computed: {\r\n        // debug标志\r\n        ...mapState('app', ['debug'])\r\n    },\r\n    methods: {\r\n        // 混入socket标准化传输格式\r\n        sokcet(nsp, type='init', data={}) {\r\n            const params = {name: this.$store.state.user.userInfo.username, time: new Date().getTime(), userId: this.$store.state.user.userInfo.id}\r\n            Object.assign( params, data)\r\n            this.$socket[nsp].emit(type, params)\r\n        },\r\n    }\r\n}","\n<div class=\"main\" @click=\"visiable ? close() : open()\">\n    <h2 class=\"msg-title\">\n        <span>{{title}}&nbsp;</span>\n        <i :class=\"visiable ? 'el-icon-caret-top' : 'el-icon-caret-bottom'\" />\n    </h2>\n    <div v-if=\"visiable\" class=\"msg-list\">\n      <div v-for=\"(value, key) in map\" :key=\"key\" class=\"list-item\">{{value[0]}}:{{value[1]}}</div>\n    </div>\n</div>\n","<template>\r\n  <div class=\"main\" @click=\"visiable ? close() : open()\">\r\n      <h2 class=\"msg-title\">\r\n          <span>{{title}}&nbsp;</span>\r\n          <i :class=\"visiable ? 'el-icon-caret-top' : 'el-icon-caret-bottom'\" />\r\n      </h2>\r\n      <div v-if=\"visiable\" class=\"msg-list\">\r\n        <div v-for=\"(value, key) in map\" :key=\"key\" class=\"list-item\">{{value[0]}}:{{value[1]}}</div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'MsgDetail',\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        msgMap: {\r\n            type: Object,\r\n            default: () => {}\r\n        },\r\n        dataInfo: {\r\n            type: Object,\r\n            default: () => {}\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            map: [],\r\n            visiable: false\r\n        }\r\n    },\r\n    mounted() {\r\n        this.map = new Map() // 这里初始化map，对象地址不改变vue没法动态刷新\r\n        const keys = Object.keys(this.msgMap)\r\n        keys.map(e => {\r\n            this.map.set(this.msgMap[e], this.dataInfo[e])\r\n        })\r\n    },\r\n    methods: {\r\n        open() {\r\n            this.visiable = true\r\n        },\r\n        close() {\r\n            this.visiable = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.main{\r\n    cursor: pointer;\r\n    .msg-title{\r\n        font-weight: 700;\r\n        font-size: @fz-big;\r\n        margin: 0;\r\n        color: @c-black;\r\n    }\r\n    .msg-button {\r\n        color: blue;\r\n        font-size: @fz-normal;\r\n        padding-top: 10px;\r\n    }\r\n    .msg-list{\r\n        padding-top: 10px;\r\n        .list-item{\r\n            padding: 5px 0;\r\n        }\r\n    }\r\n}\r\n</style>","import { Notification } from 'element-ui'\r\n// import { Message } from 'element-ui'\r\nimport msgDetail from '@/components/MsgTip/msgDetail.vue';\r\nimport Vue from 'vue'\r\nconst  vm = new Vue\r\nconst h = vm.$createElement;\r\n \r\nexport default function msgTip(type, res, duration = 15000) {\r\n    Notification({\r\n        type,\r\n        message: h(msgDetail, {\r\n            props: {\r\n                title: res.msg,\r\n                msgMap: res.msgMap,\r\n                dataInfo: res.dataInfo,\r\n            },\r\n        }),\r\n        duration,\r\n        position: 'bottom-right'\r\n    })\r\n}\r\n","import './logger'\r\n\r\nimport Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\n// 导入element-ui\r\nimport ElementUI , { Message } from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nVue.use(ElementUI);\r\n\r\n// 导入权限控制\r\nimport '@/permission';\r\n\r\n// 导入自定义socket.io\r\nimport MadderSocket from './plugins/socket';\r\nVue.use(new MadderSocket({\r\n  vuex: store,\r\n  options: [{ name: 'msg', ip: `${ import.meta.env.VITE_SOCKET_URL }/msg` }, { name: 'chat', ip: `${ import.meta.env.VITE_SOCKET_URL }/chat` }, { name: 'term', ip: `${ import.meta.env.VITE_SOCKET_URL }/term` }]\r\n}))\r\n\r\n// 混入逻辑\r\nimport minix from '@/minix'\r\nVue.mixin(minix)\r\n\r\nVue.config.productionTip = false\r\n\r\n// 导入工具方法\r\nimport msgTip from '@/utils/msgTip.js';\r\nVue.prototype.$msgTip = msgTip\r\n\r\n// 导入微前端\r\nimport microApp from '@micro-zoe/micro-app'\r\nmicroApp.start({\r\n  plugins: {\r\n    modules: {\r\n      'comapp': [\r\n        {\r\n          loader(code) {\r\n            if (process.env.NODE_ENV === 'development') {\r\n              // 这里 basename 需要和子应用vite.config.js中base的配置保持一致\r\n              code = code.replace(/(from|import)(\\s*['\"])(\\/comapp\\/)/g, all => {\r\n                // 关于 import ... from ... 的替换\r\n                return all.replace('/comapp/', 'http://localhost:3010/comapp/')\r\n              }).replace(/(from|import)(\\(['\"])(\\/comapp\\/)/g, all => {\r\n                // 关于 import()的替换\r\n                return all.replace('/comapp/', 'http://localhost:3010/comapp/')\r\n              })\r\n            }\r\n            return code\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n})\r\n\r\n// 方便调试\r\nconst $debug = new Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\nif (import.meta.env.NODE_ENV !== 'production') {\r\n\twindow.$debug = $debug // 开发环境始终开启\r\n  store.commit('app/setDebugSocket', true) // socket的debug开关\r\n}\r\n"],"names":["render","staticRenderFns","Message","Notification"],"mappings":"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"}